{% extends 'base.html' %}
{% load tailwind_filters %}

{% block title %}Lead Detail{% endblock title %}


{% block main_content %}

<section class="text-gray-600 body-font overflow-hidden">
    <div class="container px-5 py-24 mx-auto">
        <div class="lg:w-3/5 mx-auto flex flex-wrap">
            {% include 'messages.html' %}
            <div class="w-full lg:pr-10 lg:py-6 mb-6 lg:mb-0">
                <h2 class="text-sm title-font text-gray-500 tracking-widest">LEAD</h2>
                <h1 class="text-gray-900 text-3xl title-font font-medium mb-4">{{ lead }}</h1>
                <div class="flex mb-4">
                    <a class="flex-grow text-indigo-500 border-b-2 border-indigo-500 py-2 text-lg px-1">
                        Overview
                    </a>
                    <a href="{% url 'leads:lead_update' lead.pk %}" class="flex-grow border-b-2 border-gray-300 py-2 text-lg px-1">
                        Update Details
                    </a>
                </div>
                {% if lead.description %}
                    <p class="leading-relaxed mb-4">{{ lead.description }}</p>
                {% endif %}
                <div class="flex border-t border-gray-300 py-2">
                    <span class="text-gray-500">Priority</span>
                    <span class="ml-auto text-gray-900">{{ lead.priority }}</span>
                </div>
                <div class="flex border-t border-gray-300 py-2">
                    <span class="text-gray-500">Status</span>
                    <span class="ml-auto text-gray-900">{{ lead.status }}</span>
                </div>
                <div class="flex border-t border-gray-300 py-2">
                    <span class="text-gray-500">Created at</span>
                    <span class="ml-auto text-gray-900">{{ lead.created_at }}</span>
                </div>
                <div class="flex border-t border-b mb-6 border-gray-300 py-2">
                    <span class="text-gray-500">Updated at</span>
                    <span class="ml-auto text-gray-900">{{ lead.updated_at }}</span>
                </div>
                <div class="flex">
                    <a href="{% url 'leads:lead_convert' lead.pk %}" class="flex ml-auto text-white bg-indigo-500 border-0 py-2 px-6 focus:outline-none hover:bg-indigo-600 rounded">
                        Convert to client
                    </a>
                </div>

                <div class="flex-grow border-t-2 border-b-2 mt-2 border-gray-300 py-2 text-lg px-1">
                    <h2 class='text-black mb-2'>Add a Comment</h2>
                    <form action="" method="post">
                        {% csrf_token %}
                        {{ form|crispy }}
                        <button type="submit" class="flex ml-auto text-white bg-indigo-500 border-0 py-2 px-6 focus:outline-none hover:bg-indigo-600 rounded">
                            Comment
                        </button>
                    </form>
                </div>
            </div>
        </div>
    </div>
</section>

{% endblock main_content %}